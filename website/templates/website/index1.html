{% load static %}
{% load media %}
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <title>{{ profile.full_name }} | {{ profile.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;600&family=Fira+Code:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              mono: ["JetBrains Mono", "monospace"],
              fira: ["Fira Code", "monospace"],
            },
          },
        },
      };
    </script>

    <style>
      /* ================= ROOT VARIABLES ================= */
      :root {
        --term: #22c55e;
        --bg1: rgba(34, 197, 94, 0.06);
        --bg2: rgba(56, 189, 248, 0.06);
        --bg-color: #020617;
        --bg: radial-gradient(circle at 20% 20%, var(--bg1), transparent 40%),
          radial-gradient(circle at 80% 80%, var(--bg2), transparent 40%),
          var(--bg-color);
      }

      /* ================= GLOBAL ================= */
      body {
        font-family: "JetBrains Mono", monospace;
        background: var(--bg);
        color: #e5e7eb;
        transition: background 0.5s, color 0.5s;
      }

      /* Blinking cursor */
      .cursor {
        display: inline-block;
        width: 1ch;
        background-color: var(--term);
        animation: blink 1.2s infinite;
      }

      @keyframes blink {
        0%,
        50%,
        100% {
          opacity: 1;
        }
        25%,
        75% {
          opacity: 0;
        }
      }

      .term {
        color: var(--term);
      }
      .term-border {
        border-color: var(--term);
      }

      /* ================= NAME STYLING ================= */
      .name-line {
        font-size: clamp(3rem, 8vw, 5rem);
        font-weight: 600;
        letter-spacing: 0.08em;
        display: flex;
        gap: 1rem;
        align-items: baseline;
      }
      .name-first {
        color: var(--term);
        text-shadow: 0 0 12px rgba(34, 197, 94, 0.6);
      }
      .name-last {
        color: #38bdf8;
        text-shadow: 0 0 12px rgba(56, 189, 248, 0.6);
      }

      .profile-name {
        font-size: clamp(1rem, 4vw, 1.9rem);
        font-weight: 700;
        color: #38bdf8;
        text-shadow: 0 0 15px rgba(34, 197, 94, 0.6);
        text-align: center;
      }

      /* ================= PROFILE IMAGE ================= */
      .profile-img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: opacity 0.8s ease-in-out, transform 0.3s ease;
      }
      .profile-img:hover {
        transform: scale(1.02);
      }

      .glow {
        box-shadow: 0 0 30px rgba(34, 197, 94, 0.5),
          inset 0 0 15px rgba(0, 0, 0, 0.4);
        border-radius: 50%;
      }

      /* ================= SECTIONS ================= */
      .section-bg {
        background-color: rgba(17, 17, 17, 0.9);
      }

      /* ================= CARDS ================= */
      .card {
        border: 1px solid var(--term);
        padding: 1rem;
        border-radius: 0.5rem;
        transition: border-color 0.3s;
      }
      .card:hover {
        border-color: #00ff99;
      }

      /* Professional About Card */
      .about-pro-card {
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(34, 197, 94, 0.25);
        border-radius: 1rem;
        padding: 3rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        transition: transform 0.3s, box-shadow 0.3s;
      }
      .about-pro-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 15px 40px rgba(34, 197, 94, 0.25);
      }

      .about-title {
        font-size: 2rem;
        font-weight: 600;
        color: var(--term);
        letter-spacing: 0.05em;
      }
      .about-line {
        width: 80px;
        height: 3px;
        margin: 1rem 0 1.5rem;
        background: linear-gradient(to right, #22c55e, #38bdf8);
        border-radius: 999px;
      }
      .about-text {
        font-family: "Fira Code", monospace;
        font-size: 1.05rem;
        line-height: 1.8;
        color: #d1d5db;
      }

      /* ================= SKILLS ================= */
      .skills-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
        gap: 1rem;
      }
      .skill-card {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        border: 1px solid rgba(34, 197, 94, 0.4);
        background-color: rgba(0, 0, 0, 0.6);
        color: #e5e7eb;
        font-size: 0.9rem;
        line-height: 1.2;
        text-align: center;
        transition: all 0.3s;
        cursor: pointer;
        word-break: break-word;
      }
      .skill-card img {
        width: 24px;
        height: 24px;
      }
      .skill-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 0 12px var(--term);
        background-color: var(--term);
        color: #000;
      }

      /* ================= PROJECTS ================= */
      .project-title {
        font-family: "JetBrains Mono", monospace;
        color: var(--term);
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        cursor: pointer;
        padding: 0.2rem 0.5rem;
        border-radius: 0.25rem;
        transition: all 0.3s;
      }
      .project-title:hover {
        background-color: rgba(34, 197, 94, 0.2);
        text-shadow: 0 0 6px var(--term);
      }
      .project-title .cursor {
        animation: blink 1s step-start infinite;
      }

      /* ================= BUTTONS ================= */
      .project-live-btn,
      .cert-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
        font-weight: 500;
        border-radius: 9999px;
        border: 2px solid var(--term);
        background-color: rgba(34, 197, 94, 0.1);
        color: var(--term);
        text-decoration: none;
        transition: all 0.3s;
      }
      .project-live-btn:hover,
      .cert-link:hover {
        background-color: var(--term);
        color: #000;
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 4px 15px rgba(34, 197, 94, 0.4);
      }
      .project-live-btn::after {
        content: "‚Üí";
        transition: transform 0.3s;
      }
      .project-live-btn:hover::after {
        transform: translateX(4px);
      }

      /* ================= CLICKABLE IMAGES ================= */
      .clickable-img {
        cursor: pointer;
        border-radius: 0.75rem;
        border: 2px solid rgba(34, 197, 94, 0.1);
        transition: all 0.3s;
      }
      .clickable-img:hover {
        transform: translateY(-3px) scale(1.03);
        box-shadow: 0 6px 20px rgba(34, 197, 94, 0.4);
        filter: brightness(1.1);
        border-color: var(--term);
      }

      /* ================= TERMINAL WINDOW ================= */
      .terminal-window {
        background: rgba(0, 0, 0, 0.85);
        border-radius: 0.75rem;
        border: 1px solid rgba(34, 197, 94, 0.35);
        box-shadow: 0 0 25px rgba(34, 197, 94, 0.15);
        overflow: hidden;
        transition: transform 0.3s, box-shadow 0.3s;
      }
      .terminal-window:hover {
        transform: translateY(-6px);
        box-shadow: 0 0 40px rgba(34, 197, 94, 0.35);
      }

      .terminal-header {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.6rem 1rem;
        background: #020617;
        border-bottom: 1px solid rgba(34, 197, 94, 0.3);
      }
      .terminal-title {
        margin-left: auto;
        font-size: 0.85rem;
        color: #9ca3af;
        font-family: "JetBrains Mono", monospace;
      }
      .dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
      }
      .dot.red {
        background: #ef4444;
      }
      .dot.yellow {
        background: #facc15;
      }
      .dot.green {
        background: #22c55e;
      }

      .terminal-body {
        padding: 1.5rem;
      }
      .terminal-text {
        font-family: "Fira Code", monospace;
        color: #d1d5db;
        line-height: 1.8;
        font-size: 0.95rem;
      }

      /* ================= ANIMATIONS ================= */
      @keyframes fadeInUp {
        0% {
          opacity: 0;
          transform: translateY(10px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .animate-fade-in {
        opacity: 0;
        animation: fadeInUp 0.8s forwards;
      }
      .delay-500 {
        animation-delay: 0.5s;
      }
      .delay-700 {
        animation-delay: 0.7s;
      }
      .delay-900 {
        animation-delay: 0.9s;
      }
      .delay-1100 {
        animation-delay: 1.1s;
      }
      .delay-1300 {
        animation-delay: 1.3s;
      }
      .delay-1500 {
        animation-delay: 1.5s;
      }
      .delay-1700 {
        animation-delay: 1.7s;
      }
      .delay-1900 {
        animation-delay: 1.9s;
      }
      .delay-2000 {
        animation-delay: 2s;
      }
      .delay-2200 {
        animation-delay: 2.2s;
      }

      /* ASCII font size on large screens */
      @media (min-width: 768px) {
        .terminal-body pre {
          font-size: 1.25rem;
        }
      }

      /* ================= DYNAMIC ROLE ================= */
      #roleText {
        font-size: clamp(1rem, 3vw, 2.2rem); /* bigger, responsive */
        font-weight: 600; /* bold for attention */
        color: #22c55e; /* bright green to pop */
        text-shadow: 0 0 20px rgba(34, 197, 94, 0.7); /* glowing effect */
        text-align: center;
      }
    </style>
  </head>

  <body class="text-gray-200 font-mono">
    <!-- ================= BOOT SCREEN ================= -->
    <div
      id="bootScreen"
      class="fixed inset-0 bg-black text-green-400 p-6 z-[9999] text-sm"
    >
      <pre>
[ OK ] Starting Sameer OS...
[ OK ] Loading kernel modules
[ OK ] Mounting file systems
[ OK ] Initializing network
[ OK ] Login successful
</pre
      >
    </div>

    <!-- ================= NAVBAR ================= -->
    <nav
      class="fixed top-0 w-full bg-black/80 backdrop-blur border-b border-green-500/20 z-50"
    >
      <div
        class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center"
      >
        <span class="term text-lg">sameer@linux:~$</span>

        <!-- Desktop Menu -->
        <div class="hidden md:flex gap-6 items-center">
          <a href="#home" class="hover:text-green-400">./home</a>
          <a href="#about" class="hover:text-green-400">./about</a>
          <a href="#about" class="hover:text-green-400">./skills</a>
          <a href="#certifications" class="hover:text-green-400">./certs</a>
          <a href="#projects" class="hover:text-green-400">./projects</a>
          <a href="#contact" class="hover:text-green-400">./contact</a>

          <!-- Theme Buttons -->
          <div class="flex gap-2">
            <button onclick="setTheme('green')" class="text-green-400">
              G
            </button>
            <button onclick="setTheme('blue')" class="text-sky-400">B</button>
            <button onclick="setTheme('amber')" class="text-yellow-400">
              A
            </button>
          </div>

          <!-- Switch Page Icon -->
          <button
            onclick="togglePage()"
            class="ml-4 p-2 rounded border border-green-400 hover:bg-green-400 hover:text-black transition"
            title="Switch Linux ‚Üî Windows"
          >
            üêß‚û°Ô∏èü™ü
          </button>
        </div>

        <!-- Mobile Hamburger Icon -->
        <button
          id="menuToggle"
          class="md:hidden text-green-400 text-3xl focus:outline-none"
        >
          ‚ò∞
        </button>
      </div>

      <!-- Mobile Menu -->
      <div
        id="mobileMenu"
        class="hidden flex-col gap-4 px-6 pb-6 bg-black/95 md:hidden"
      >
        <a href="#home" class="hover:text-green-400">./home</a>
        <a href="#about" class="hover:text-green-400">./about</a>
        <a href="#about" class="hover:text-green-400">./skills</a>
        <a href="#certifications" class="hover:text-green-400">./certs</a>
        <a href="#projects" class="hover:text-green-400">./projects</a>
        <a href="#contact" class="hover:text-green-400">./contact</a>

        <div class="flex gap-3 mt-2">
          <button onclick="setTheme('green')" class="text-green-400">G</button>
          <button onclick="setTheme('blue')" class="text-sky-400">B</button>
          <button onclick="setTheme('amber')" class="text-yellow-400">A</button>
        </div>

        <!-- Mobile Switch Icon -->
        <button
          onclick="togglePage()"
          class="mt-2 p-2 rounded border border-green-400 hover:bg-green-400 hover:text-black transition"
          title="Switch Linux ‚Üî Windows"
        >
          <button
            onclick="togglePage()"
            class="mt-2 p-2 rounded border border-green-400 hover:bg-green-400 hover:text-black transition text-lg"
            title="Switch Linux ‚Üî Windows"
          >
            üêß‚û°Ô∏èü™ü
          </button>
        </button>
      </div>
    </nav>

    <!-- ================= HOME (NEOFETCH-STYLE TERMINAL HERO) ================= -->
    <section id="home" class="min-h-screen flex items-center pt-32">
      <div class="max-w-3xl mx-auto px-6">
        <div
          class="terminal-window p-6 md:p-10 flex flex-col items-center gap-6"
        >
          <!-- Terminal Header -->
          <div class="terminal-header w-full mb-4">
            <span class="dot red"></span>
            <span class="dot yellow"></span>
            <span class="dot green"></span>
            <span class="terminal-title">sameer@portfolio:~</span>
          </div>

          <!-- Terminal Body -->
          <div class="terminal-body flex flex-col items-center gap-6">
            <!-- Profile Image -->
            <div
              class="relative w-36 h-36 md:w-48 md:h-48 rounded-full overflow-hidden border border-green-500/40 shadow-xl glow"
            >
              {% for photo in photos %}
              <img
                src="{{ photo.image.url }}"
                data-src="{{ photo.image.url }}"
                class="profile-img {% if forloop.first %}opacity-100{% else %}opacity-0{% endif %}"
              />
              {% endfor %}
            </div>

            <!-- Name -->
            <p class="term animate-fade-in delay-500 text-xl">$ whoami</p>
            <p class="profile-name animate-fade-in delay-700 text-center">
              {{ profile.full_name }}
            </p>

            <!-- Role -->
            <p class="term animate-fade-in delay- text-xl">$ echo $ROLE</p>
            <p
              id="roleText"
              class="md:text-xl font-semibold text-green-400 animate-fade-in delay-900"
              data-roles='[{% for role in roles %}"{{ role.title }}"{% if not forloop.last %},{% endif %}{% endfor %}]'
            >
              {{ roles.first.title }}
            </p>

            <!-- Bio -->
            <p class="term animate-fade-in delay-1100 text-xl">$ cat bio.txt</p>
            <p class="text-gray-400 text-center animate-fade-in delay-1300">
              {{ profile.bio }}
            </p>

            <!-- Action Buttons -->
            <div class="flex gap-4 flex-wrap animate-fade-in delay-1500">
              <a
                href="#projects"
                class="border term-border px-6 py-3 rounded hover:bg-green-400 hover:text-black transition"
              >
                ./projects.sh
              </a>
              <a
                href="mailto:{{ profile.email }}"
                class="border border-sky-400 px-6 py-3 rounded hover:bg-sky-400 hover:text-black transition"
              >
                mail sameer
              </a>
              <a
                href="{{ profile.resume.url }}"
                download
                class="border border-purple-400 px-6 py-3 rounded hover:bg-purple-400 hover:text-black transition"
              >
                cat resume.pdf
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ================= ABOUT + SKILLS (LINUX TERMINAL STYLE) ================= -->
    <section id="about" class="py-24 border-t border-green-500/20 section-bg">
      <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-12">
        <!-- ABOUT TERMINAL -->
        <div class="terminal-window">
          <div class="terminal-header">
            <span class="dot red"></span>
            <span class="dot yellow"></span>
            <span class="dot green"></span>
            <span class="terminal-title">sameer@linux: ~/about</span>
          </div>

          <div class="terminal-body">
            <p class="term text-xl">$ cat about.txt</p>
            <p class="terminal-text mt-3">{{ profile.about }}</p>
          </div>
        </div>

        <!-- SKILLS TERMINAL -->
        <div class="terminal-window">
          <div class="terminal-header">
            <span class="dot red"></span>
            <span class="dot yellow"></span>
            <span class="dot green"></span>
            <span class="terminal-title">sameer@linux: ~/skills</span>
          </div>

          <div class="terminal-body">
            <p class="term text-xl">$ neofetch skills</p>

            <div class="skills-grid mt-4">
              {% for skill in skills %}
              <div class="skill-card">
                {% if skill.icon %}
                <img src="{{ skill.icon.url }}" alt="{{ skill.name }}" />
                {% endif %}
                <span>{{ skill.name }}</span>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ================= CERTIFICATIONS ================= -->
    <section
      id="certifications"
      class="py-24 border-t border-green-500/20 section-bg"
    >
      <div class="max-w-6xl mx-auto px-6">
        <p class="term mb-8 text-xl">$ ls certifications/</p>

        <div id="certContainer" class="grid md:grid-cols-2 gap-8">
          {% for cert in certifications %}
          <div
            class="card group overflow-hidden relative flex flex-col md:flex-row gap-4 items-start bg-black/70 border-green-500/40 p-4 hover:shadow-lg hover:shadow-green-400/40 transition"
          >
            <!-- Certificate Image -->
            {% if cert.image %}
            <img
              src="{{ cert.image.url }}"
              alt="{{ cert.title }}"
              data-src="{{ cert.image.url }}"
              class="cert-img clickable-img w-full md:w-48 h-48 object-cover rounded-lg"
            />
            {% endif %}

            <!-- Certificate Info -->
            <div class="flex-1 flex flex-col">
              <p class="term cert-title" data-title="{{ cert.title|slugify }}">
                $ cat
              </p>
              <h3 class="text-xl font-semibold text-green-400 mt-1">
                {{ cert.title }}
              </h3>
              <p class="mt-1 text-gray-400">{{ cert.description }}</p>
              <div class="mt-2 flex justify-between items-center text-sm">
                <span class="text-green-300">{{ cert.issuer }}</span>
                <span class="text-green-400">{{ cert.date_awarded }}</span>
              </div>

              {% if cert.certificate_url %}
              <a
                href="{{ cert.certificate_url }}"
                target="_blank"
                class="project-live-btn mt-3 w-max"
              >
                View Certificate ‚Üí
              </a>
              {% endif %}
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>

    <!-- ================= PROJECTS ================= -->
    <section
      id="projects"
      class="py-24 bg-black/30 border-t border-green-500/20"
    >
      <div class="max-w-6xl mx-auto px-6">
        <p class="term mb-8 text-xl">$ ls projects/</p>

        <div id="projectContainer" class="grid md:grid-cols-2 gap-8">
          {% for project in projects %}
          <div class="card group overflow-hidden relative">
            <!-- Project Image -->
            <div class="overflow-hidden rounded mb-4">
              <img
                src="{{ project.image.url }}"
                alt="{{ project.title }}"
                data-src="{{ project.image.url }}"
                class="project-img clickable-img w-full h-48 object-cover"
              />
            </div>

            <!-- Project GitHub command with typing animation -->
            <p
              class="term project-title"
              data-title="{{ project.github_link }}"
              onclick="window.open(this.dataset.title, '_blank')"
            >
              $ git clone
            </p>

            <!-- Project Info -->
            <h3 class="text-xl font-semibold text-green-400 mt-2">
              {{ project.title }}
            </h3>
            <p class="mt-2 text-gray-400">{{ project.description }}</p>
            <p class="mt-2 text-sky-400">{{ project.tech_stack }}</p>

            {% if project.live_link %}
            <a
              href="{{ project.live_link }}"
              target="_blank"
              class="project-live-btn mt-3 w-max pointer"
            >
              View Live ‚Üí
            </a>
            {% endif %}
          </div>
          {% endfor %}
        </div>
      </div>
    </section>

    <!-- ================= CONTACT ================= -->
    <section id="contact" class="py-24 border-t border-green-500/20 section-bg">
      <div class="max-w-6xl mx-auto px-6 flex flex-col md:flex-row gap-12">
        <!-- Terminal Info -->
        <div class="terminal-window flex-1">
          <div class="terminal-header">
            <span class="dot red"></span>
            <span class="dot yellow"></span>
            <span class="dot green"></span>
            <span class="terminal-title">sameer@linux: ~/contact</span>
          </div>

          <div class="terminal-body">
            <!-- Typing effect -->
            <p id="reachText" class="term text-xl mb-2"></p>

            <!-- Contact Info -->
            <p class="mt-2 text-gray-400">
              Email:
              <a
                href="mailto:{{ profile.email }}"
                class="term underline hover:text-green-400"
                >{{ profile.email }}</a
              >
            </p>

            {% if profile.linkedin %}
            <p class="mt-1 text-gray-400">
              LinkedIn:
              <a
                href="{{ profile.linkedin }}"
                target="_blank"
                class="term underline hover:text-green-400"
                >profile</a
              >
            </p>
            {% endif %} {% if profile.github %}
            <p class="mt-1 text-gray-400">
              GitHub:
              <a
                href="{{ profile.github }}"
                target="_blank"
                class="term underline hover:text-green-400"
                >repo</a
              >
            </p>
            {% endif %} {% if profile.facebook %}
            <p class="mt-1 text-gray-400">
              Facebook:
              <a
                href="{{ profile.facebook }}"
                target="_blank"
                class="term underline hover:text-green-400"
                >profile</a
              >
            </p>
            {% endif %}
          </div>
        </div>

        <!-- Contact Form -->
        <div class="terminal-window flex-1">
          <div class="terminal-header">
            <span class="dot red"></span>
            <span class="dot yellow"></span>
            <span class="dot green"></span>
            <span class="terminal-title">sameer@linux: ~/contact-form</span>
          </div>

          <div class="terminal-body">
            <form
              method="POST"
              action="{% url 'contact_send_email' %}"
              class="flex flex-col gap-4"
            >
              {% csrf_token %}
              <input
                type="text"
                name="name"
                placeholder="Your Name"
                class="w-full px-3 py-2 bg-black/60 border border-green-500 rounded text-white focus:outline-none"
                required
              />
              <input
                type="email"
                name="email"
                placeholder="Your Email"
                class="w-full px-3 py-2 bg-black/60 border border-green-500 rounded text-white focus:outline-none"
                required
              />
              <textarea
                name="message"
                placeholder="Your Message"
                rows="4"
                class="w-full px-3 py-2 bg-black/60 border border-green-500 rounded text-white focus:outline-none"
                required
              ></textarea>
              <button type="submit" class="project-live-btn w-max mt-2">
                Send ‚Üí
              </button>
            </form>

            {% if messages %}
            <p class="mt-2 text-green-400 text-sm">
              {% for message in messages %}{{ message }}{% endfor %}
            </p>
            {% endif %}
          </div>
        </div>
      </div>
    </section>

    <footer class="py-6 text-center text-gray-500 border-t border-green-500/20">
      sameer@linux:~$ exit
    </footer>

    <!-- Lightbox Overlay -->
    <div
      id="lightboxOverlay"
      class="fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50"
    >
      <span
        id="lightboxClose"
        class="absolute top-4 right-6 text-white text-3xl cursor-pointer"
        >&times;</span
      >
      <img
        id="lightboxImage"
        src=""
        alt="Preview"
        class="max-h-[90vh] max-w-[90vw] rounded-lg shadow-2xl"
      />
    </div>
    <!-- ================= SCRIPTS ================= -->
    <script>
      // Boot screen
      setTimeout(() => {
        const boot = document.getElementById("bootScreen");
        if (boot) boot.remove();
      }, 2200);

      // Hamburger menu
      const menuToggle = document.getElementById("menuToggle");
      const mobileMenu = document.getElementById("mobileMenu");

      if (menuToggle && mobileMenu) {
        menuToggle.addEventListener("click", () => {
          mobileMenu.classList.toggle("hidden");
          mobileMenu.classList.toggle("flex");
        });
      }

      // Profile rotator (safe)
      const imgs = document.querySelectorAll(".profile-img");
      if (imgs.length > 0) {
        let i = 0;
        setInterval(() => {
          imgs[i].classList.replace("opacity-100", "opacity-0");
          i = (i + 1) % imgs.length;
          imgs[i].classList.replace("opacity-0", "opacity-100");
        }, 3500);
      }

      // Typing animation for roles (safe)
      const roleEl = document.getElementById("roleText");
      if (roleEl && roleEl.dataset.roles) {
        const roles = JSON.parse(roleEl.dataset.roles || "[]");
        let r = 0,
          c = 0,
          d = false;

        (function typeRole() {
          if (!roles.length) return;
          const word = roles[r];
          roleEl.textContent = d ? word.slice(0, --c) : word.slice(0, ++c);

          if (!d && c === word.length) setTimeout(() => (d = true), 1200);
          if (d && c === 0) {
            d = false;
            r = (r + 1) % roles.length;
          }
          setTimeout(typeRole, d ? 50 : 80);
        })();
      }

      // Project typing (safe)
      const projectTitles = document.querySelectorAll(".project-title");
      projectTitles.forEach((proj) => {
        const fullText = proj.dataset.title;
        if (!fullText) return;

        let i = 0;
        const cursor = document.createElement("span");
        cursor.className = "cursor";
        cursor.innerHTML = "&nbsp;";
        proj.appendChild(cursor);

        function typeProject() {
          if (i <= fullText.length) {
            proj.firstChild.textContent = "$ git clone " + fullText.slice(0, i);
            i++;
            setTimeout(typeProject, 60);
          }
        }
        setTimeout(typeProject, 500);
      });

      // Certificate typing (safe)
      const certs = document.querySelectorAll(".cert-title");
      certs.forEach((cert) => {
        const fullText = cert.dataset.title;
        if (!fullText) return;

        let i = 0;
        const cursor = document.createElement("span");
        cursor.className = "cursor";
        cursor.innerHTML = "&nbsp;";
        cert.appendChild(cursor);

        function typeCert() {
          if (i <= fullText.length) {
            cert.firstChild.textContent = "$ cat " + fullText.slice(0, i);
            i++;
            setTimeout(typeCert, 80);
          } else {
            cursor.remove();
          }
        }
        setTimeout(typeCert, 500);
      });

      // Lightbox
      const lightboxOverlay = document.getElementById("lightboxOverlay");
      const lightboxImage = document.getElementById("lightboxImage");
      const lightboxClose = document.getElementById("lightboxClose");

      if (lightboxOverlay && lightboxImage) {
        const clickableImages = document.querySelectorAll(".clickable-img");

        clickableImages.forEach((img) => {
          img.addEventListener("click", () => {
            lightboxImage.src = img.dataset.src;
            lightboxOverlay.classList.remove("hidden");
            lightboxOverlay.classList.add("flex");
          });
        });

        lightboxOverlay.addEventListener("click", (e) => {
          if (e.target === lightboxOverlay || e.target === lightboxClose) {
            lightboxOverlay.classList.add("hidden");
            lightboxOverlay.classList.remove("flex");
            lightboxImage.src = "";
          }
        });
      }

      // Theme switch
      function setTheme(theme) {
        let bg1, bg2, term;
        if (theme === "green") {
          term = "#22c55e";
          bg1 = "rgba(34,197,94,0.06)";
          bg2 = "rgba(56,189,248,0.06)";
        }
        if (theme === "blue") {
          term = "#38bdf8";
          bg1 = "rgba(56,189,248,0.06)";
          bg2 = "rgba(34,197,94,0.06)";
        }
        if (theme === "amber") {
          term = "#fbbf24";
          bg1 = "rgba(251,191,36,0.06)";
          bg2 = "rgba(34,197,94,0.06)";
        }

        document.documentElement.style.setProperty("--term", term);
        document.documentElement.style.setProperty("--bg1", bg1);
        document.documentElement.style.setProperty("--bg2", bg2);
        document.documentElement.style.setProperty(
          "--bg",
          `radial-gradient(circle at 20% 20%, ${bg1}, transparent 40%),
       radial-gradient(circle at 80% 80%, ${bg2}, transparent 40%),
       var(--bg-color)`
        );
      }
    </script>
    <!-- ================= TYPING ANIMATION SCRIPT ================= -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const textEl = document.getElementById("reachText");
        const message = '$ echo "Reach me anytime"';
        let i = 0;

        function typeMessage() {
          if (i <= message.length) {
            textEl.textContent = message.slice(0, i);
            i++;
            setTimeout(typeMessage, 80); // typing speed
          }
        }

        typeMessage();
      });
    </script>

    <!-- ================= SWITCH PAGE SCRIPT ================= -->
    <script>
      function togglePage() {
        // If current URL includes 'linux', go to Windows page
        if (window.location.pathname.includes("linux")) {
          window.location.href = "{% url 'windows_home' %}";
        } else {
          // Otherwise, go to Linux page
          window.location.href = "{% url 'linux_home' %}";
        }
      }

      // Mobile menu toggle
      const menuToggl = document.getElementById("menuToggle");
      const mobileMen = document.getElementById("mobileMenu");
      menuToggle.addEventListener("click", () => {
        mobileMenu.classList.toggle("hidden");
      });
    </script>
  </body>
</html>
